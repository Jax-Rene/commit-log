# CommitLog 项目开发计划 V2

## P0 关键项

- **Habit Admin 工作流**  
    - [x] 后台支持习惯 CRUD、日历视图、快速打卡入口  
    - [x] 支持关联文章自动打卡、进度查询、连胜里程碑等
    - [x] 支持移动端快速打卡
    - [x] 数据建模：`habits` 记录名称、简介、目标频率（自定义每天/每周/每月次数）、类型标签（tag）、状态；`habit_logs` 记录打卡日期（可补打）、时间、备注、触发来源，保证幂等（同一 Habit + 日期仅一条有效记录）  
    - [x] Service & 权限：新增 Habit/HabitLog Service；仅管理员具备创建、更新、删除、打卡权限，普通访客仅可读取展示数据  
    - [x] 日历与统计：后台页面支持周/月两个视图切换，展示完成情况、连胜、完成率等统计指标  
    - [x] 快速打卡入口：在 Habit 列表与详情中提供打卡按钮，可选择日期及填写备注，默认指向当天  

- **关于我页面前台增加展示**  
    - [x] 展示可配置的社交/联系信息（微信、Github、邮箱等）

- **体验增强包一**  
    - [] 调研新的 Markdown 插件，替换 EasyMD，提升编辑体验
    - [] 文章编辑支持 Zen Mode

- **Fly.io 部署流水线**  
    - [x] 编写生产级 Dockerfile、`fly.toml`  
    - [x] 实现数据库迁移、静态资源构建  
    - [x] 健康检查、环境变量策略、秘密管理约定
    - [x] 成功在 Fly.io 完成部署
    - [ ] 增加 cron 任务自动备份 sqlite 数据

---

## P1 体验与稳定性

- **体验增强包二**  
    - [] 弹窗、select 组件由浏览器默认组件优化为更优美的组件

- **自动化部署流程**  
    - [] 基于 GitHub Actions 编排 Fly.io 部署（build → test → deploy）  
    - [] 支持主干合并触发、可选预发环境

- **可观测性**  
    - [] 集成结构化日志与 Fly.io 原生监控告警  
    - [] 定义核心指标（请求耗时、错误率、队列失败）  

---
