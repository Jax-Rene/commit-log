{{define "base"}}
<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="color-scheme" content="light dark">
	<title>{{if .title}}{{.title}} · {{end}}CommitLog</title>
	<meta name="description" content="CommitLog - AI 全栈工程师的技术与成长记录">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
	<link href="/static/css/output.css" rel="stylesheet">
	<script src="https://unpkg.com/htmx.org@1.9.12"></script>
	<script src="https://unpkg.com/alpinejs@3.13.5" defer></script>
	<style>
		body {
			font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
		}
	</style>
</head>

<body class="bg-white text-slate-900 antialiased transition-colors duration-200 dark:bg-slate-950 dark:text-slate-100">
	<header
		class="sticky top-0 z-40 bg-white/80 backdrop-blur supports-backdrop-blur:bg-white/60 dark:border-slate-800 dark:bg-slate-950/70">
		<nav class="mx-auto flex max-w-6xl items-center gap-6 px-4 py-2">
			<div class="flex flex-1 items-center gap-3">
				<a href="/" class="flex items-center gap-3">
					<img src="/static/icon/avatar.png" alt="Logo" class="h-11 w-11" />
				</a>
			</div>

			<div class="flex flex-1 justify-center px-4">
				<form method="GET" action="/" class="w-full max-w-xs sm:max-w-md">
					<label class="relative block">
						<input type="search" name="search" value="{{.search}}" placeholder="搜索文章"
							class="w-full rounded-full bg-slate-100 px-4 py-2 pr-10 text-sm text-slate-900 placeholder-slate-400 shadow-sm transition-colors focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900/50 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:border-blue-500/50 dark:focus:ring-blue-500/30">
						<span
							class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500">
							<svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
									d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-3.35z" />
							</svg>
						</span>
					</label>
				</form>
			</div>

			<div class="flex flex-1 items-center justify-end text-sm font-medium text-slate-600 dark:text-slate-400">
				<a href="/about" class="transition-colors hover:text-slate-900 dark:hover:text-slate-200">关于我</a>
			</div>
		</nav>
	</header>

	<main class="mx-auto min-h-screen w-full max-w-6xl px-4 pb-16 pt-2">
		{{block "content" .}}{{end}}
	</main>

	<footer
		class="border-t border-slate-200 bg-white/90 backdrop-blur supports-backdrop-blur:bg-white/70 dark:border-slate-800 dark:bg-slate-950/80">
		<div
			class="mx-auto flex max-w-6xl flex-col gap-2 px-4 py-8 text-sm text-slate-500 dark:text-slate-400 sm:flex-row sm:items-center sm:justify-between">
			<span>© {{if .year}}{{.year}}{{else}}CommitLog{{end}} · 激发创造，延迟满足</span>
		</div>
	</footer>
</body>

</html>
{{end}}