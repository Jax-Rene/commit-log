{{define "base"}}
<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{{if .title}}{{.title}} · {{end}}CommitLog</title>
	<meta name="description" content="CommitLog - AI 全栈工程师的技术与成长记录">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
	<link href="/static/css/output.css" rel="stylesheet">
	<script src="https://unpkg.com/htmx.org@1.9.12"></script>
	<script src="https://unpkg.com/alpinejs@3.13.5" defer></script>
	<style>
		body {
			font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
			background: linear-gradient(180deg, #f8fafc 0%, #ffffff 40%);
		}
	</style>
</head>

<body class="text-slate-900 antialiased">
	<header class="sticky top-0 z-40 border-b border-slate-200 bg-white/90 backdrop-blur">
		<nav class="mx-auto flex max-w-6xl items-center justify-between px-4 py-4">
			<a href="/" class="flex items-center gap-3">
				<img src="/static/icon/avatar.png" alt="Logo" class="h-11 w-11" />
			</a>

			<form method="GET" action="/" class="space-y-4">
				<div class="flex flex-col gap-4 md:flex-row">
					<label class="relative flex-1">
						<input type="search" name="search" value="{{.search}}" placeholder="搜索"
							class="w-full rounded-xl border border-slate-300 bg-white/90 px-4 py-3 pr-12 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100">
						<span class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-slate-400">
							<svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
									d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-3.35z" />
							</svg>
						</span>
					</label>
				</div>
			</form>

			<ul class="hidden items-center gap-3 text-sm font-medium text-slate-600 md:flex">
				<li><a href="/about" class="transition-colors hover:text-slate-900">关于我</a></li>
			</ul>
		</nav>
	</header>

	<main class="mx-auto min-h-screen w-full max-w-6xl px-4 pb-16 pt-10">
		{{block "content" .}}{{end}}
	</main>

	<footer class="border-t border-slate-200 bg-white/90">
		<div
			class="mx-auto flex max-w-6xl flex-col gap-2 px-4 py-8 text-sm text-slate-500 sm:flex-row sm:items-center sm:justify-between">
			<span>© {{if .year}}{{.year}}{{else}}CommitLog{{end}} · 创造长期价值</span>
			<span>Powered by Go · HTMX · Tailwind CSS</span>
		</div>
	</footer>
</body>

</html>
{{end}}